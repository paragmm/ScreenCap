<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScreenCap Editor</title>
    <link rel="stylesheet" href="editor.css">
</head>

<body>
    <div class="ribbon">
        <div class="ribbon-tabs">
            <div class="app-brand">
                <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none"
                    class="brand-icon">
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                    <line x1="8" y1="21" x2="16" y2="21"></line>
                    <line x1="12" y1="17" x2="12" y2="21"></line>
                </svg>
                <span>Screen</span><span class="brand-highlight">Cap</span>
            </div>
            <button class="ribbon-tab" data-tab="home">Home</button>
            <button class="ribbon-tab" data-tab="snapshots">Snapshots</button>
            <button class="ribbon-tab" data-tab="settings">Settings</button>
            <button class="ribbon-tab" data-tab="help">Help</button>
        </div>

        <!-- Home Tab Content -->
        <div class="ribbon-content active" id="tab-home">
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="btn-undo-ribbon" title="Undo (Ctrl+Z)">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M9 14L4 9l5-5"></path>
                            <path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v.5"></path>
                        </svg>
                        <span>Undo</span>
                    </button>
                    <button class="ribbon-btn" id="btn-redo-ribbon" title="Redo (Ctrl+Y)">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M15 14l5-5-5-5"></path>
                            <path d="M20 9H9.5A5.5 5.5 0 0 0 4 14.5v.5"></path>
                        </svg>
                        <span>Redo</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Clipboard</div>
            </div>

            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn active" id="tool-select-ribbon" title="Select">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path>
                            <path d="M13 13l6 6"></path>
                        </svg>
                        <span>Select</span>
                    </button>
                    <button class="ribbon-btn" id="tool-pen-ribbon" title="Pen">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                        </svg>
                        <span>Pen</span>
                    </button>
                    <button class="ribbon-btn" id="tool-eraser-ribbon" title="Eraser">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M20 20H7L3 16C2 15 2 13 3 12L13 2C14 1 16 1 17 2L21 6C22 7 22 9 21 10L11 20">
                            </path>
                            <line x1="17" y1="11" x2="12" y2="16"></line>
                        </svg>
                        <span>Eraser</span>
                    </button>
                    <button class="ribbon-btn danger" id="tool-clear-ribbon" title="Clear All">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                            <line x1="10" y1="11" x2="10" y2="17"></line>
                            <line x1="14" y1="11" x2="14" y2="17"></line>
                        </svg>
                        <span>Clear All</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Tools</div>
            </div>

            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="tool-crop-ribbon" title="Crop Image">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path>
                            <path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>
                        </svg>
                        <span>Crop</span>
                    </button>
                    <div id="crop-actions-ribbon" style="display: none; gap: 5px;">
                        <button class="btn-primary btn-sm" id="confirm-crop-btn">Apply</button>
                        <button class="btn-ghost btn-sm" id="cancel-crop-btn">Cancel</button>
                    </div>
                </div>
                <div class="ribbon-group-label">Modify</div>
            </div>

            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="tool-line-ribbon" title="Line">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        <span>Line</span>
                    </button>
                    <button class="ribbon-btn" id="tool-arrow-ribbon" title="Arrow">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <line x1="5" y1="19" x2="19" y2="5"></line>
                            <polyline points="12 5 19 5 19 12"></polyline>
                        </svg>
                        <span>Arrow</span>
                    </button>
                    <button class="ribbon-btn" id="tool-rect-ribbon" title="Rectangle">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        </svg>
                        <span>Rect</span>
                    </button>
                    <button class="ribbon-btn" id="tool-circle-ribbon" title="Circle">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <circle cx="12" cy="12" r="10"></circle>
                        </svg>
                        <span>Circle</span>
                    </button>
                    <button class="ribbon-btn" id="tool-polygon-ribbon" title="Polygon">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M12 2L2 9l4 11h12l4-11z"></path>
                        </svg>
                        <span>Polygon</span>
                    </button>
                    <button class="ribbon-btn" id="tool-text-ribbon" title="Text">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <polyline points="4 7 4 4 20 4 20 7"></polyline>
                            <line x1="9" y1="20" x2="15" y2="20"></line>
                            <line x1="12" y1="4" x2="12" y2="20"></line>
                        </svg>
                        <span>Text</span>
                    </button>
                    <button class="ribbon-btn" id="tool-textarea-ribbon" title="Text Box">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="7" y1="8" x2="17" y2="8"></line>
                            <line x1="7" y1="12" x2="17" y2="12"></line>
                        </svg>
                        <span>Text Box</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Insert</div>
            </div>

            <div class="ribbon-group">
                <div class="ribbon-group-content appearance-rows">
                    <!-- Row 1: Stroke -->
                    <div class="appearance-row" title="Stroke Color & Opacity">
                        <span class="appearance-label mini">S</span>
                        <input type="checkbox" id="stroke-enabled" checked title="Enable Stroke">
                        <input type="color" id="color-picker" value="#6366f1">
                        <input type="range" id="stroke-opacity" min="0" max="100" value="100" class="mini-slider">
                        <span id="stroke-opacity-val">100%</span>
                    </div>

                    <!-- Row 2: Fill -->
                    <div class="appearance-row" id="fill-control-group" title="Fill Color & Opacity">
                        <span class="appearance-label mini">F</span>
                        <input type="checkbox" id="fill-enabled" title="Enable Fill">
                        <input type="color" id="fill-color-picker" value="#6366f1">
                        <input type="range" id="fill-opacity" min="0" max="100" value="100" class="mini-slider">
                        <span id="fill-opacity-val">100%</span>
                    </div>
                </div>
                <div class="ribbon-group-label">Appearance</div>
            </div>

            <!-- Size Group -->
            <div class="ribbon-group">
                <div class="ribbon-group-content slider-with-val">
                    <span id="thickness-val" style="font-size: 10px; font-weight: 600; color: #6366f1;">3px</span>
                    <input type="range" id="line-thickness" min="1" max="20" value="3" title="Line Thickness"
                        class="mini-slider">
                </div>
                <div class="ribbon-group-label">Size</div>
            </div>

            <!-- View Group (Zoom) -->
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn icon-btn" id="zoom-out-btn" title="Zoom Out">
                        <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2"
                            fill="none">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            <line x1="8" y1="11" x2="14" y2="11"></line>
                        </svg>
                    </button>
                    <span id="zoom-level"
                        style="font-size: 11px; font-weight: 600; min-width: 35px; text-align: center;">100%</span>
                    <button class="ribbon-btn icon-btn" id="zoom-in-btn" title="Zoom In">
                        <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2"
                            fill="none">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            <line x1="11" y1="8" x2="11" y2="14"></line>
                            <line x1="8" y1="11" x2="14" y2="11"></line>
                        </svg>
                    </button>
                </div>
                <div class="ribbon-group-label">View</div>
            </div>
            <!-- Typography Group -->
            <div class="ribbon-group" id="format-text-group">
                <div class="ribbon-group-content">
                    <select id="font-family" title="Font Family">
                        <option value="Inter, sans-serif">Inter</option>
                        <option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">Segoe UI</option>
                        <option value="'Roboto', sans-serif">Roboto</option>
                        <option value="'Courier New', Courier, monospace">Courier New</option>
                        <option value="'Georgia', serif">Georgia</option>
                    </select>
                    <input type="number" id="font-size" value="20" min="8" max="100" title="Font Size">
                    <div class="style-btns">
                        <button class="style-btn" id="btn-bold" title="Bold">B</button>
                        <button class="style-btn" id="btn-italic" title="Italic">I</button>
                        <button class="style-btn" id="btn-underline" title="Underline">U</button>
                    </div>
                </div>
                <div class="ribbon-group-label">Typography</div>
            </div>

            <!-- Radius Group -->
            <div class="ribbon-group" id="format-radius-group" style="display: none;">
                <div class="ribbon-group-content">
                    <div id="radius-controls" class="config-item">
                        <input type="checkbox" id="radius-sync" title="Sync All Corners" checked>
                        <div class="radius-grid">
                            <input type="number" id="radius-tl" title="Top Left" placeholder="TL" min="0" value="0">
                            <input type="number" id="radius-tr" title="Top Right" placeholder="TR" min="0" value="0">
                            <input type="number" id="radius-bl" title="Bottom Left" placeholder="BL" min="0" value="0">
                            <input type="number" id="radius-br" title="Bottom Right" placeholder="BR" min="0" value="0">
                        </div>
                    </div>
                </div>
                <div class="ribbon-group-label">Corner Radius</div>
            </div>

            <!-- Polygon Group -->
            <div class="ribbon-group" id="format-polygon-group" style="display: none;">
                <div class="ribbon-group-content">
                    <div class="config-item">
                        <div class="side-control">
                            <label for="polygon-sides">Sides</label>
                            <input type="number" id="polygon-sides" min="3" max="20" value="5" style="width: 40px;">
                            <input type="range" id="polygon-sides-range" min="3" max="20" value="5">
                        </div>
                    </div>
                </div>
                <div class="ribbon-group-label">Polygon</div>
            </div>

            <!-- Export Group (Moved to End) -->
            <div class="ribbon-group ml-auto">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="save-btn" title="Save Image">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                        <span>Save</span>
                    </button>
                    <button class="ribbon-btn" id="copy-clipboard-btn" title="Copy to Clipboard">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2">
                            </path>
                            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                        </svg>
                        <span>Copy</span>
                    </button>
                    <button class="ribbon-btn danger" id="discard-btn" title="Discard Changes">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                            <line x1="10" y1="11" x2="10" y2="17"></line>
                            <line x1="14" y1="11" x2="14" y2="17"></line>
                        </svg>
                        <span>Discard</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Export</div>
            </div>
        </div>

        <!-- Export Tab Content -->
        <div class="ribbon-content" id="tab-export">
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="save-btn" title="Save Image">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                        <span>Save</span>
                    </button>
                    <button class="ribbon-btn" id="copy-clipboard-btn" title="Copy to Clipboard">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2">
                            </path>
                            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                        </svg>
                        <span>Copy</span>
                    </button>
                    <button class="ribbon-btn danger" id="discard-btn" title="Discard Changes">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M3 6h18"></path>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                        </svg>
                        <span>Discard</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Output</div>
            </div>
        </div>

        <!-- Snapshots Tab Content -->
        <div class="ribbon-content" id="tab-snapshots">
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn primary" id="take-snapshot-btn" title="Save in Browser">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z">
                            </path>
                            <circle cx="12" cy="13" r="4"></circle>
                        </svg>
                        <span>Save in Browser</span>
                    </button>
                    <button class="ribbon-btn danger" id="clear-snapshots-btn" title="Clear All History">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M3 6h18"></path>
                            <path d="M19 6L18 20a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"></path>
                            <path d="M10 11v6"></path>
                            <path d="M14 11v6"></path>
                            <path d="M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"></path>
                        </svg>
                        <span>Clear All</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Snapshots</div>
            </div>

            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="compare-btn" title="Compare with Original">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <rect x="2" y="4" width="20" height="16" rx="2"></rect>
                            <line x1="12" y1="4" x2="12" y2="20"></line>
                            <line x1="6" y1="12" x2="8" y2="12"></line>
                            <line x1="16" y1="12" x2="18" y2="12"></line>
                        </svg>
                        <span>Compare</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Tools</div>
            </div>

            <div class="ribbon-group" style="flex: 1; min-width: 300px;">
                <div class="ribbon-group-content snapshots-list-container" id="snapshots-list">
                    <!-- Snapshots will be injected here -->
                    <div class="no-snapshots">No snapshots saved yet</div>
                </div>
                <div class="ribbon-group-label">Recently Saved (Restore by Clicking)</div>
            </div>
        </div>

        <!-- Settings Tab Content -->
        <div class="ribbon-content" id="tab-settings">
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <div class="config-item vertical">
                        <span class="config-label">Comparison Limit (2-5)</span>
                        <input type="number" id="comparison-limit" value="2" min="2" max="5"
                            title="Max snapshots to compare at once">
                    </div>
                </div>
                <div class="ribbon-group-label">General</div>
            </div>
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="reset-settings-btn" title="Reset All Settings">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                            <path d="M3 3v5h5"></path>
                        </svg>
                        <span>Reset</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Preferences</div>
            </div>
        </div>

        <!-- Help Tab Content -->
        <div class="ribbon-content" id="tab-help">
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <button class="ribbon-btn" id="manual-btn" title="User Manual">
                        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <span>Manual</span>
                    </button>
                </div>
                <div class="ribbon-group-label">Support</div>
            </div>
            <div class="ribbon-group">
                <div class="ribbon-group-content">
                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                        <div class="logo">ScreenCap <span>Editor</span></div>
                        <div style="font-size: 10px; color: #94a3b8; margin-top: 2px;">by Parag Dhali</div>
                    </div>
                </div>
                <div class="ribbon-group-label">About</div>
            </div>
        </div>
    </div>

    <!-- Comparison Bar (Hidden by default) -->
    <div id="comparison-bar" class="comparison-bar" style="display: none;">
        <div class="comparison-info">
            <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none">
                <rect x="2" y="4" width="20" height="16" rx="2"></rect>
                <line x1="12" y1="4" x2="12" y2="20"></line>
            </svg>
            <span id="comparison-label">Comparing Modes</span>
        </div>
        <button id="exit-comparison-btn" class="btn-ghost btn-sm-compact">
            Exit Comparison
        </button>
    </div>
    </div>

    <div class="main-container">
        <div class="canvas-container">
            <canvas id="editor-canvas"></canvas>
        </div>
        <div class="layers-sidebar collapsed" id="layers-sidebar">
            <div class="sidebar-header">
                <div class="collapsed-icon" title="Layers">
                    <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none">
                        <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                        <polyline points="17 21 17 3 7 3 7 21"></polyline>
                    </svg>
                </div>
                <h3>Layers</h3>
                <span class="layer-count" id="count-badge">0</span>
                <button class="toggle-sidebar-btn" id="toggle-sidebar" title="Toggle Sidebar">
                    <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none">
                        <polyline points="13 17 8 12 13 7"></polyline>
                        <polyline points="20 17 15 12 20 7"></polyline>
                    </svg>
                </button>
            </div>
            <div class="sidebar-actions" id="sidebar-actions">
                <button class="sidebar-action-btn" id="group-layers-btn" title="Group Selected">
                    <svg viewBox="0 0 24 24" width="14" height="14" stroke="currentColor" stroke-width="2" fill="none">
                        <rect x="4" y="4" width="6" height="6"></rect>
                        <rect x="14" y="4" width="6" height="6"></rect>
                        <rect x="4" y="14" width="6" height="6"></rect>
                        <rect x="14" y="14" width="6" height="6"></rect>
                    </svg>
                    Group
                </button>
                <button class="sidebar-action-btn" id="ungroup-layers-btn" title="Ungroup Selected">
                    <svg viewBox="0 0 24 24" width="14" height="14" stroke="currentColor" stroke-width="2" fill="none">
                        <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
                        <path d="M12 4v4"></path>
                        <path d="M12 16v4"></path>
                        <path d="M4 12h4"></path>
                        <path d="M16 12h4"></path>
                    </svg>
                    Ungroup
                </button>
            </div>
            <div class="layers-list" id="layers-list">
                <!-- Layers will be injected here -->
            </div>
            <div class="sidebar-footer">
                <small>Drag to reorder layers</small>
            </div>
        </div>
    </div>
    <div id="manual-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>User Manual</h2>
                <button id="close-manual" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <section>
                    <h3><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 10px;">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                        </svg>Ribbon Interface</h3>
                    <p>The new Ribbon consolidates all tools into easy-to-access tabs:</p>
                    <ul style="list-style: disc; margin-left: 20px; color: #94a3b8; font-size: 13px;">
                        <li><strong>Home Tab:</strong> Contains all drawing tools (Pen, Shapes), formatting options
                            (Colors, Thickness), and file actions (Save, Copy).</li>
                        <li><strong>Snapshots Tab:</strong> Access your design history. Restore previous designs,
                            manage design versions, and clear your browser-saved history.</li>
                        <li><strong>Help Tab:</strong> Access the user manual and about information.</li>
                    </ul>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 10px;">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z">
                            </path>
                            <circle cx="12" cy="13" r="4"></circle>
                        </svg>Capture Modes</h3>
                    <p>ScreenCap offers three powerful ways to capture your screen from the extension popup:</p>
                    <ul style="list-style: disc; margin-left: 20px; color: #94a3b8; font-size: 13px;">
                        <li><strong>Visible Area:</strong> Instantly capture exactly what you see in the current tab.
                        </li>
                        <li><strong>Selective Area:</strong> Use the crosshair to drag and select a specific region for
                            capture.</li>
                        <li><strong>Full Page:</strong> Automatically scrolls and stitches the entire webpage into one
                            high-quality image.</li>
                    </ul>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 10px;">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                        </svg>Tool Reference</h3>
                    <div class="tool-manual-list">
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path>
                                    <path d="M13 13l6 6"></path>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Select:</strong> The default tool. Click any shape to select it. Drag to
                                move, or use the corner handles to resize. Use the <strong>circular handle</strong>
                                above the shape to <strong>rotate</strong> it. Drag over text to edit it.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                                    <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                                    <path d="M2 2l5 5"></path>
                                    <path d="M11 11l1 1"></path>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Pen:</strong> Freehand sketching. Great for quick circles, underlining, or
                                custom marks. Responds to the <strong>Thickness</strong> slider.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M20 20H7L3 16C2 15 2 13 3 12L13 2C14 1 16 1 17 2L21 6C22 7 22 9 21 10L11 20">
                                    </path>
                                    <line x1="17" y1="11" x2="12" y2="16"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Eraser:</strong> Precision removal. Click directly on any line, shape, or
                                text
                                box to delete it instantly.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Line:</strong> Draw perfectly straight lines. Useful for dividing sections
                                or
                                striking through content.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="5" y1="19" x2="19" y2="5"></line>
                                    <polyline points="12 5 19 5 19 12"></polyline>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Arrow:</strong> Direct attention to specific elements. The arrowhead
                                automatically aligns with the direction of your drag.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Rectangle:</strong> Draw boxes. Once drawn, use the <strong>Radius</strong>
                                inputs to create rounded corners or semi-circles.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Circle:</strong> Create smooth circles. Like rectangles, circles can be
                                filled
                                or kept as outlines.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2L2 9l4 11h12l4-11z"></path>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Polygon:</strong> Draw multi-sided shapes. Use the <strong>Sides</strong>
                                control in the Format tab to change from a triangle to a decagon!
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="4 7 4 4 20 4 20 7"></polyline>
                                    <line x1="9" y1="20" x2="15" y2="20"></line>
                                    <line x1="12" y1="4" x2="12" y2="20"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Text:</strong> Add professional typography. Click anywhere to start typing.
                                Use
                                the font toolbar to change size, alignment, and weight.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="7" y1="8" x2="17" y2="8"></line>
                                    <line x1="7" y1="12" x2="17" y2="12"></line>
                                    <line x1="7" y1="16" x2="13" y2="16"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Text Area:</strong> Draw a bounding box for text. Text automatically wraps
                                within the area. You can resize the area anytime to adjust text wrapping.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path>
                                    <path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Crop:</strong> Resize the image. Drag to select the area you want to keep,
                                then
                                click <strong>Confirm Crop</strong> to apply.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview danger">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path
                                        d="M19 6v14a2 20 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                    </path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Clear All:</strong> Reset your workspace. This permanently removes all
                                drawings
                                and annotations from the current image.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                    <line x1="11" y1="8" x2="11" y2="14"></line>
                                    <line x1="8" y1="11" x2="14" y2="11"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Zoom:</strong> Focus on details or see the big picture. Use the <strong>Zoom In
                                    (+)</strong> and <strong>Zoom Out (-)</strong> buttons in the View group to adjust
                                your canvas scale from 10% to 500%.
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 8px;">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="3" y1="15" x2="21" y2="15"></line>
                        </svg>Layers Management</h3>
                    <p><strong>Visibility:</strong> Use the right sidebar to see all shapes on your canvas. Every
                        shape
                        is automatically named for easy identification.</p>
                    <p><strong>Reordering:</strong> Change the layering (Z-index) by <strong>dragging</strong>
                        layers up
                        or down in the list. The top item in the list is the topmost shape on the canvas.</p>
                    <p><strong>Renaming:</strong> Organize your work by <strong>double-clicking</strong> any layer
                        name
                        to rename it instantly.</p>
                    <p><strong>Quick Actions:</strong> Select a shape by clicking its layer, or use the trash icon
                        to
                        delete it instantly.</p>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 8px;">
                            <path d="M12 20h9"></path>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                        </svg>Customization</h3>
                    <p><strong>Styling:</strong> Use the top configuration bar to change stroke thickness, opacity,
                        and
                        colors. For Rectangles, you can even specify <strong>individual corner radii</strong>.</p>
                    <p><strong>Anchor-Point Precision:</strong> When resizing rotated shapes, the opposite side is
                        automatically pinned as an anchor, ensuring perfectly stable transformations without "jumping"
                        or drift.</p>
                    <p><strong>Fills:</strong> Toggle the fill checkbox to add solid or semi-transparent backgrounds
                        to
                        your shapes.</p>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 8px;">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>Keyboard Shortcuts</h3>
                    <div class="shortcuts-grid">
                        <div class="shortcut-item"><span>Ctrl + Z</span> Undo</div>
                        <div class="shortcut-item"><span>Ctrl + Y</span> Redo</div>
                        <div class="shortcut-item"><span>Ctrl + C/V</span> Copy/Paste</div>
                        <div class="shortcut-item"><span>Ctrl+Sf+C</span> Canvas to Clipboard</div>
                        <div class="shortcut-item"><span>Del / BS</span> Delete</div>
                        <div class="shortcut-item"><span>Esc</span> Deselect / Close</div>
                        <div class="shortcut-item"><span>S / P / E / X</span> Sel / Pen / Eraser / Crop</div>
                        <div class="shortcut-item"><span>R / C / L</span> Rect / Circle / Line</div>
                        <div class="shortcut-item"><span>A / T / G</span> Arrow / Text / Polygon</div>
                    </div>
                </section>
            </div>
            <div class="modal-footer">
                <div class="author-info">
                    Developed with ❤️ by <span>Parag Dhali</span>
                </div>
            </div>
        </div>
    </div>
    <script type="module" src="editor.js"></script>
</body>

</html>