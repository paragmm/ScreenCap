<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScreenCap Editor</title>
    <link rel="stylesheet" href="editor.css">
</head>

<body>
    <div class="toolbar">
        <div class="toolbar-left">
            <div class="logo">ScreenCap <span>Editor</span> <small class="author">by Parag Dhali</small></div>
        </div>

        <div class="toolbar-center">
            <div class="tool-section main-tools">
                <div class="tool-group">
                    <button class="tool-btn active" id="tool-select" title="Select">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path>
                            <path d="M13 13l6 6"></path>
                        </svg>
                    </button>
                </div>

                <div class="tool-group">
                    <button class="tool-btn" id="btn-undo" title="Undo (Ctrl+Z)">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 14L4 9l5-5"></path>
                            <path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v.5"></path>
                        </svg>
                    </button>
                    <button class="tool-btn" id="btn-redo" title="Redo (Ctrl+Y)">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M15 14l5-5-5-5"></path>
                            <path d="M20 9H9.5A5.5 5.5 0 0 0 4 14.5v.5"></path>
                        </svg>
                    </button>
                </div>

                <div class="separator-v"></div>

                <div class="tool-group">
                    <button class="tool-btn" id="tool-pen" title="Pen">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                            <path d="M2 2l5 5"></path>
                            <path d="M11 11l1 1"></path>
                        </svg>
                    </button>
                    <button class="tool-btn" id="tool-eraser" title="Eraser">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 20H7L3 16C2 15 2 13 3 12L13 2C14 1 16 1 17 2L21 6C22 7 22 9 21 10L11 20">
                            </path>
                            <line x1="17" y1="11" x2="12" y2="16"></line>
                        </svg>
                    </button>
                </div>

                <div class="separator-v"></div>

                <div class="tool-group">
                    <button class="tool-btn" id="tool-line" title="Line">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                    <button class="tool-btn" id="tool-arrow" title="Arrow">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="5" y1="19" x2="19" y2="5"></line>
                            <polyline points="12 5 19 5 19 12"></polyline>
                        </svg>
                    </button>
                    <button class="tool-btn" id="tool-rect" title="Rectangle">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        </svg>
                    </button>
                    <button class="tool-btn" id="tool-circle" title="Circle">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                        </svg>
                    </button>
                    <button class="tool-btn" id="tool-text" title="Text">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="4 7 4 4 20 4 20 7"></polyline>
                            <line x1="9" y1="20" x2="15" y2="20"></line>
                            <line x1="12" y1="4" x2="12" y2="20"></line>
                        </svg>
                    </button>
                </div>

                <div class="separator-v"></div>

                <div id="thickness-controls" class="config-item">
                    <div class="slider-wrapper">
                        <input type="range" id="line-thickness" min="1" max="20" value="3">
                        <span id="thickness-val" class="config-label">3px</span>
                    </div>
                </div>

                <div id="radius-controls" class="config-item" style="display: none;">
                    <div class="radius-toggle-group">
                        <input type="checkbox" id="radius-sync" title="Sync All Corners" checked>
                    </div>
                    <div class="radius-grid">
                        <input type="number" id="radius-tl" title="Top Left" placeholder="TL" min="0" value="0">
                        <input type="number" id="radius-tr" title="Top Right" placeholder="TR" min="0" value="0">
                        <input type="number" id="radius-bl" title="Bottom Left" placeholder="BL" min="0" value="0">
                        <input type="number" id="radius-br" title="Bottom Right" placeholder="BR" min="0" value="0">
                    </div>
                </div>

                <div id="font-controls" class="config-item" style="display: none;">
                    <select id="font-family">
                        <option value="Inter, sans-serif">Inter</option>
                        <option value="Arial, sans-serif">Arial</option>
                        <option value="Georgia, serif">Georgia</option>
                        <option value="Courier New, monospace">Monospace</option>
                    </select>
                    <input type="number" id="font-size" min="12" max="100" value="20">
                    <div class="style-btns">
                        <button class="style-btn" id="btn-bold">B</button>
                        <button class="style-btn" id="btn-italic">I</button>
                        <button class="style-btn" id="btn-underline">U</button>
                    </div>
                </div>

                <div class="separator-v"></div>

                <div class="color-section">
                    <div class="color-picker-wrapper" title="Stroke Color">
                        <div class="color-header">
                            <input type="color" id="color-picker" value="#6366f1">
                            <span id="stroke-opacity-val" class="opacity-label">100%</span>
                        </div>
                        <input type="range" id="stroke-opacity" min="0" max="100" value="100" class="mini-slider">
                    </div>
                    <div id="fill-control-group" class="color-picker-wrapper" title="Fill Color" style="display: none;">
                        <div class="color-header">
                            <div class="fill-toggle-group">
                                <input type="checkbox" id="fill-enabled" title="Enable Fill">
                                <input type="color" id="fill-color-picker" value="#6366f1">
                            </div>
                            <span id="fill-opacity-val" class="opacity-label">100%</span>
                        </div>
                        <input type="range" id="fill-opacity" min="0" max="100" value="100" class="mini-slider">
                    </div>
                </div>

                <div class="separator-v"></div>

                <button class="icon-btn danger" id="tool-clear" title="Clear All">
                    <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 20 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                        </path>
                        <line x1="10" y1="11" x2="10" y2="17"></line>
                        <line x1="14" y1="11" x2="14" y2="17"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div class="toolbar-right">
            <div class="action-group">
                <button class="btn-ghost" id="manual-btn" title="User Manual">
                    <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                </button>
                <button class="btn-ghost" id="discard-btn">Discard</button>
                <button class="btn-ghost" id="copy-clipboard-btn" title="Copy to Clipboard">
                    <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                    </svg>
                </button>
                <button class="btn-primary" id="save-btn">Save Image</button>
            </div>
        </div>
    </div>
    <div class="main-container">
        <div class="canvas-container">
            <canvas id="editor-canvas"></canvas>
        </div>
        <div class="layers-sidebar collapsed" id="layers-sidebar">
            <div class="sidebar-header">
                <div class="collapsed-icon" title="Layers">
                    <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none">
                        <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                        <polyline points="17 21 17 3 7 3 7 21"></polyline>
                    </svg>
                </div>
                <h3>Layers</h3>
                <span class="layer-count" id="count-badge">0</span>
                <button class="toggle-sidebar-btn" id="toggle-sidebar" title="Toggle Sidebar">
                    <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none">
                        <polyline points="13 17 8 12 13 7"></polyline>
                        <polyline points="20 17 15 12 20 7"></polyline>
                    </svg>
                </button>
            </div>
            <div class="layers-list" id="layers-list">
                <!-- Layers will be injected here -->
            </div>
            <div class="sidebar-footer">
                <small>Drag to reorder layers</small>
            </div>
        </div>
    </div>
    <div id="manual-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>User Manual</h2>
                <button id="close-manual" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <section>
                    <h3><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 10px;">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                        </svg>Tool Reference</h3>
                    <div class="tool-manual-list">
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path>
                                    <path d="M13 13l6 6"></path>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Select:</strong> The default tool. Click any shape to select it. Drag to move,
                                or use the corner handles to resize. Drag over text to edit it.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                                    <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                                    <path d="M2 2l5 5"></path>
                                    <path d="M11 11l1 1"></path>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Pen:</strong> Freehand sketching. Great for quick circles, underlining, or
                                custom marks. Responds to the <strong>Thickness</strong> slider.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M20 20H7L3 16C2 15 2 13 3 12L13 2C14 1 16 1 17 2L21 6C22 7 22 9 21 10L11 20">
                                    </path>
                                    <line x1="17" y1="11" x2="12" y2="16"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Eraser:</strong> Precision removal. Click directly on any line, shape, or text
                                box to delete it instantly.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Line:</strong> Draw perfectly straight lines. Useful for dividing sections or
                                striking through content.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="5" y1="19" x2="19" y2="5"></line>
                                    <polyline points="12 5 19 5 19 12"></polyline>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Arrow:</strong> Direct attention to specific elements. The arrowhead
                                automatically aligns with the direction of your drag.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Rectangle:</strong> Draw boxes. Once drawn, use the <strong>Radius</strong>
                                inputs to create rounded corners or semi-circles.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Circle:</strong> Create smooth circles. Like rectangles, circles can be filled
                                or kept as outlines.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="4 7 4 4 20 4 20 7"></polyline>
                                    <line x1="9" y1="20" x2="15" y2="20"></line>
                                    <line x1="12" y1="4" x2="12" y2="20"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Text:</strong> Add professional typography. Click anywhere to start typing. Use
                                the font toolbar to change size, alignment, and weight.
                            </div>
                        </div>
                        <div class="tool-manual-item">
                            <div class="tool-icon-preview danger">
                                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path
                                        d="M19 6v14a2 20 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                    </path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                            </div>
                            <div class="tool-desc">
                                <strong>Clear All:</strong> Reset your workspace. This permanently removes all drawings
                                and annotations from the current image.
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 8px;">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="3" y1="15" x2="21" y2="15"></line>
                        </svg>Layers Management</h3>
                    <p><strong>Visibility:</strong> Use the right sidebar to see all shapes on your canvas. Every shape
                        is automatically named for easy identification.</p>
                    <p><strong>Reordering:</strong> Change the layering (Z-index) by <strong>dragging</strong> layers up
                        or down in the list. The top item in the list is the topmost shape on the canvas.</p>
                    <p><strong>Renaming:</strong> Organize your work by <strong>double-clicking</strong> any layer name
                        to rename it instantly.</p>
                    <p><strong>Quick Actions:</strong> Select a shape by clicking its layer, or use the trash icon to
                        delete it instantly.</p>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 8px;">
                            <path d="M12 20h9"></path>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                        </svg>Customization</h3>
                    <p><strong>Styling:</strong> Use the top configuration bar to change stroke thickness, opacity, and
                        colors. For Rectangles, you can even specify <strong>individual corner radii</strong>.</p>
                    <p><strong>Fills:</strong> Toggle the fill checkbox to add solid or semi-transparent backgrounds to
                        your shapes.</p>
                </section>

                <section>
                    <h3><svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" style="vertical-align: middle; margin-right: 8px;">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>Keyboard Shortcuts</h3>
                    <div class="shortcuts-grid">
                        <div class="shortcut-item"><span>Ctrl + Z</span> Undo</div>
                        <div class="shortcut-item"><span>Ctrl + Y</span> Redo</div>
                        <div class="shortcut-item"><span>Ctrl + C</span> Copy Shape</div>
                        <div class="shortcut-item"><span>Ctrl + V</span> Paste Shape</div>
                        <div class="shortcut-item"><span>Ctrl + Shift + C</span> Copy to Clipboard</div>
                        <div class="shortcut-item"><span>Del / Backspace</span> Delete Shape</div>
                        <div class="shortcut-item"><span>Esc</span> Deselect / Close</div>
                    </div>
                </section>
            </div>
            <div class="modal-footer">
                <div class="author-info">
                    Developed with ❤️ by <span>Parag Dhali</span>
                </div>
            </div>
        </div>
    </div>
    <script src="editor.js"></script>
</body>

</html>